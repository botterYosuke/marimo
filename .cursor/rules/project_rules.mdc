---
description: Project specification reference rules - enforce reference to docs/project_specification.md
globs: 
alwaysApply: true
---

# プロジェクト仕様書参照ルール

## 権威ある情報源の宣言

**`docs/project_specification.md` は、このプロジェクトにおける唯一の権威ある仕様書（Single Source of Truth）です。**

- 他のドキュメント、コードコメント、または推測と矛盾する場合、**常に `docs/project_specification.md` の内容を優先すること**
- このルールファイル（`project_rules.mdc`）と `docs/project_specification.md` が矛盾する場合、後者を優先すること

## 必須の事前確認

**すべてのコード変更、機能実装、設計判断を行う前に、必ず `docs/project_specification.md` を読み、内容を理解すること。**

- 仕様書を読まずに実装を開始してはいけない
- 仕様書が不明確な場合、推測せずにユーザーに確認を求めること
- 仕様書に記載されていない要件について推測して実装してはいけない

## 実装判断の根拠

**すべての実装判断は、`docs/project_specification.md` の内容に基づいて正当化されなければならない。**

- 仕様書に記載されていない要件や制約について推測してはいけない
- 仕様書に要件が不足している場合は、実装前に確認を求めること
- 技術スタック、アーキテクチャ制約、禁止事項は、仕様書の第4章・第5章を参照すること
- 機能要件、非機能要件は、仕様書の第3章を参照すること

## 仕様書の構成への参照

`docs/project_specification.md` には以下の情報が含まれています：

1. **プロジェクトの目的・ゴール**（第1章）
2. **対象ユーザー**（第2章）
3. **機能要件 / 非機能要件**（第3章）
4. **技術スタック・制約**（第4章）
5. **禁止事項**（第5章）
6. **プロジェクト構造**（第6章）
7. **開発ワークフロー**（第7章）

実装時は、関連する章を参照して、仕様書の要件に従うこと。

## 推測の禁止

- 仕様書に記載されていない情報について推測してはいけない
- 「おそらく」「一般的には」「通常は」という表現で仕様を補完してはいけない
- コードベース内の実装だけを見て仕様を推測してはいけない（仕様書を優先）

## 確認が必要な場合

仕様書を確認しても以下が不明確な場合：

1. 仕様書を再確認する
2. 関連する章を読み返す
3. それでも不明確な場合は、ユーザーに確認を求める

**推測して実装を進めることは絶対に避けること。**

---

**このルールは、`docs/project_specification.md` への参照を強制し、ハルシネーションを防ぐために存在します。**
