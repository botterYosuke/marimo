# 3Dモ

ード専用コントロールUI作成計画

## 概要

`GridControls`コンポーネントを複製して、3Dモード専用のコントロールUIを作成します。新しいディレクトリ構造を作成し、3Dモード専用の設定項目を含むコントロールコンポーネントを実装します。

## 実装内容

### 1. ディレクトリ構造の作成

- `src/components/editor/renderers/3d-layout/`ディレクトリを作成
- 3Dモード専用のコンポーネントを配置するための新しいディレクトリ

### 2. 3Dモード用設定型の定義

- `src/components/editor/renderers/3d-layout/types.ts`を作成
- 3Dモード用の設定型`Grid3DConfig`を定義（既存の`GridControls`の設定項目を全て含む）：
- 既存の設定項目（`GridLayout`から）：
    - `columns: number` - 列数
    - `rowHeight: number` - 行の高さ（px）
    - `maxWidth?: number` - 最大幅（px）
    - `bordered: boolean` - ボーダー表示
    - `isLocked: boolean` - グリッドをロックするか
- 3Dモード専用の追加設定項目：
    - `spacingX: number` - X方向の間隔
    - `spacingZ: number` - Z方向の間隔（Grid Depth）
    - `spacingY: number` - Y方向の高さ（Grid Height）
    - `gridOpacity: number` - グリッド平面の透明度（0-1）
    - `snapToGrid: boolean` - グリッドにスナップするか

### 3. GridControlsコンポーネントの複製と3Dモード対応

- `src/components/editor/renderers/3d-layout/grid-3d-controls.tsx`を作成
- `grid-layout.tsx`の`GridControls`コンポーネント（424-516行目）をベースに複製
- 以下の変更を実施：
- コンポーネント名を`Grid3DControls`に変更
- Props型を`Grid3DConfig`に変更
- 既存の`GridControls`の設定項目を全て保持：
    - Columns
    - Row Height (px)
    - Max Width (px)
    - Bordered
    - Lock Grid
- 3Dモード専用の設定項目を追加：
    - Grid Spacing X（X方向の間隔）
    - Grid Depth（Z方向の間隔）
    - Grid Height（Y方向の高さ）
    - Grid Plane Opacity（グリッド平面の透明度、0-1の範囲）
    - Snap to Grid（グリッドにスナップするか）

### 4. 必要なインポートの追加

- `grid-3d-controls.tsx`に必要なインポートを追加：
- `Label`、`NumberField`、`Switch`コンポーネント
- アイコン（`LockIcon`など）
- 3Dモード用の型定義

## ファイル構成

````javascript
src/components/editor/renderers/
├── grid-layout/
│   ├── grid-layout.tsx (既存)
│   ├── types.ts (既存)
│   └── ...
└── 3d-layout/ (新規)
    ├── grid-3d-controls.tsx (新規)
    └── types.ts (新規)
```



## 実装の詳細

### grid-3d-controls.tsxの構造

- `Grid3DControls`コンポーネントを定義
- Props: `config: Grid3DConfig`, `setConfig: (config: Grid3DConfig) => void`
- 各設定項目に対応するUIコントロールを配置
- 既存の`GridControls`と同じスタイリングとレイアウトを維持

### types.tsの構造

- `Grid3DConfig`インターフェースを定義
- デフォルト値の定数`DEFAULT_GRID_3D_CONFIG`を定義

## 注意事項

- この段階では、3Dモード用の設定を管理するJotai atomは作成しません（後続の実装で追加予定）
- コントロールUIの表示ロジック（3Dモード時に表示する）は、この段階では実装しません
- 設定の永続化は後続の実装で対応予定

## 次のステップ（この計画では含まない）



````